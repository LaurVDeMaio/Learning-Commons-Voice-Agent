import { ExternalReference } from '../../common/types';
/**
 * Interface representing the result of a StringStream iteration.
 */
export interface StringStreamIterationResult {
    /** The generated text */
    text?: string;
    /** Indicates if the stream is finished */
    done: boolean;
}
/** Type for the next method of the StringStreamIterator. */
export interface StringStreamIterator {
    /**
     * @returns External reference to the native stream implementation
     * @internal
     */
    getStream?: () => ExternalReference;
    /**
     * Asynchronously reads the next item from the stream.
     * @returns Promise resolving to a result object with text content or done flag
     */
    next: () => Promise<StringStreamIterationResult>;
}
/**
 * Class for handling string-based streams.
 * Provides functionality to read text data from native stream implementations.
 * @internal
 */
export declare class StringStream implements StringStreamIterator {
    private stream;
    private onDestroy?;
    /**
     * Creates a new StringStream instance.
     *
     * @param stream - External reference to the native stream implementation
     * @param onDestroy - Optional callback to execute when stream is consumed
     */
    constructor(stream: ExternalReference, onDestroy?: () => void);
    /**
     * Returns the external reference to the native stream implementation.
     *
     * @returns External reference object
     */
    get(): any;
    /**
     * Asynchronously reads the next item from the stream.
     *
     * @returns Promise resolving to a result object with text content or done flag
     * @throws InworldError if reading from the stream fails
     */
    next(): Promise<{
        text: any;
        done: boolean;
    } | {
        done: boolean;
        text?: undefined;
    }>;
    /**
     * Synchronously reads the next item from the stream.
     *
     * @returns Result object with text content or done flag
     * @throws InworldError if reading from the stream fails
     */
    nextSync(): {
        text: any;
        done: boolean;
    } | {
        done: boolean;
        text?: undefined;
    };
}
